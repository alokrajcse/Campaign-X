<app-navigation></app-navigation>
<div class="main-content">
  <div class="add-lead-container">
  <header class="page-header">
    <h2>Add New Lead</h2>
  </header>

  <div class="form-container">
    <form [formGroup]="leadForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="leadId">Lead ID *</label>
        <input id="leadId" formControlName="leadId" type="text" placeholder="Enter Lead ID">
        <div class="error" *ngIf="getFieldError('leadId')">{{getFieldError('leadId')}}</div>
      </div>

      <div class="form-group">
        <label for="name">Name *</label>
        <input id="name" formControlName="name" type="text" placeholder="Enter Name">
        <div class="error" *ngIf="getFieldError('name')">{{getFieldError('name')}}</div>
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input id="email" formControlName="email" type="email" placeholder="Enter Email">
        <div class="error" *ngIf="getFieldError('email')">{{getFieldError('email')}}</div>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number *</label>
        <input id="phone" formControlName="phone" type="tel" placeholder="Enter Phone Number">
        <div class="error" *ngIf="getFieldError('phone')">{{getFieldError('phone')}}</div>
      </div>

      <div class="form-group">
        <label for="campaignId">Campaign *</label>
        <select id="campaignId" formControlName="campaignId">
          <option value="">Select Campaign</option>
          <option *ngFor="let campaign of campaigns" [value]="campaign">{{campaign}}</option>
        </select>
        <div class="error" *ngIf="getFieldError('campaignId')">{{getFieldError('campaignId')}}</div>
      </div>

      <div class="form-group">
        <label for="segment">Segment (Optional)</label>
        <input id="segment" formControlName="segment" type="text" placeholder="Auto-assigned if empty">
      </div>

      <div class="form-group">
        <label for="openRate">Email Opened</label>
        <select id="openRate" formControlName="openRate">
          <option value="0">No</option>
          <option value="1">Yes</option>
        </select>
      </div>

      <div class="form-group">
        <label for="clickRate">Clicks </label>
        <input id="clickRate" formControlName="clickRate" type="number" min="0" max="100" placeholder="Number of clicks">
      </div>

      <div class="form-group">
        <label for="conversions">Conversions </label>
        <select id="conversions" formControlName="conversions">
          <option value="0">No</option>
          <option value="1">Yes</option>
        </select>
      </div>

      <div class="form-actions">
        <button type="submit" class="submit-btn" [disabled]="leadForm.invalid || loading">
          {{loading ? 'Adding...' : 'Add Lead'}}
        </button>
        <button type="button" class="cancel-btn" (click)="goBack()" [disabled]="loading">Cancel</button>
      </div>
    </form>

    <div class="message" [class]="messageType" *ngIf="message">
      {{message}}
    </div>
  </div>
  </div>
</div>