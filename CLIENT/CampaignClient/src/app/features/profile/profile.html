<app-navigation></app-navigation>
<div class="main-content">
  <div class="profile-container">
    <div class="profile-header">
      <h2>My Profile</h2>
    </div>

    <div class="profile-card" *ngIf="profile">
      <div class="avatar-section">
        <div class="avatar">
          <div class="avatar-placeholder">ðŸ‘¤</div>
        </div>
        <h3>{{profile.username}}</h3>
      </div>

      <div class="profile-details">
        <div class="detail-row" *ngIf="!isEditing">
          <label>Username:</label>
          <span>{{profile.username}}</span>
        </div>
        
        <div class="detail-row" *ngIf="!isEditing">
          <label>Email:</label>
          <span>{{profile.email}}</span>
        </div>
        

        
        <div class="detail-row" *ngIf="!isEditing">
          <label>Organization:</label>
          <span>{{profile.organizationName}}</span>
        </div>

        <div class="edit-form" *ngIf="isEditing">
          <div class="form-group">
            <label>Username:</label>
            <input type="text" [(ngModel)]="editForm.username" class="form-control">
          </div>
          
          <div class="form-group">
            <label>Email:</label>
            <input type="email" [(ngModel)]="editForm.email" class="form-control">
          </div>
          
          <div class="form-group">
            <label>Organization:</label>
            <select [(ngModel)]="editForm.organizationId" class="form-control">
              <option value="0">Select Organization</option>
              <option *ngFor="let org of organizations" [value]="org.id">{{org.name}}</option>
            </select>
          </div>
          

        </div>

        <div class="profile-actions">
          <button *ngIf="!isEditing" (click)="startEdit()" class="btn btn-primary">
            Edit Profile
          </button>
          
          <div *ngIf="isEditing" class="edit-actions">
            <button (click)="saveProfile()" class="btn btn-primary">Save</button>
            <button (click)="cancelEdit()" class="btn btn-secondary">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!profile" class="loading">
      Loading profile...
    </div>
  </div>
</div>